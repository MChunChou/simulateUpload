(this.webpackJsonpupload=this.webpackJsonpupload||[]).push([[0],{62:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(6),i=n(0),a=n.n(i),s=n(11),l=n.n(s),r=(n(62),n(23)),o=n(48),u=n(17),d=n(109),j=n(105),f=n(106),b=n(108),h=n(112),O=n(111),p=n(104),x=n(107),m=n(41),v=n.n(m),g=n(50),F=n.n(g),N=n(110),y=n(103),S=n(101),C=n(102),k={db:{files:[new File(["this is file 1"],"File1.txt",{type:"text/plain"})]},upload:function(e){return u.a.each(e,(function(e){k.deleteFile([e.name]),k.db.files.push(e)})),!0},getFileList:function(){return k.db.files.map((function(e){return{name:e.name}}))},deleteFile:function(e){return u.a.each(e,(function(e){var t=u.a.findIndex(k.db.files,{name:e});t>-1&&k.db.files.splice(t,1)})),!0}},w=k;function T(e){var t,n=e.files,a=void 0===n?[]:n,s=e.clearFile,l=(e.path,Object(i.useState)(0)),o=Object(r.a)(l,2),u=o[0],d=o[1],j=Object(i.useState)(!1),f=Object(r.a)(j,2),b=f[0],h=f[1];Object(i.useEffect)((function(){a.length>0&&(h(!0),O())}),[a.length,u]);var O=function(){t=setTimeout((function(){u<100?d(u+1):(w.upload(a),clearTimeout(t),s())}),10)};return Object(c.jsx)("div",{className:"upload",children:Object(c.jsxs)(N.a,{open:b,fullWidth:!0,children:[Object(c.jsx)(S.a,{children:u>0?Object(c.jsxs)("div",{children:["File Upload:",Object(c.jsx)(C.a,{variant:"determinate",value:u}),Object(c.jsxs)("span",{className:"percent",children:[u," / 100%"]})]}):""}),Object(c.jsx)(y.a,{children:100===u?Object(c.jsx)(p.a,{onClick:function(e){h(!1),d(0)},color:"primary",children:"done"}):""})]})})}function I(e){var t=e.value,n=e.labelId,s=e.getFileList,l=e.handleCheck,o=a.a.useState(!1),u=Object(r.a)(o,2),d=u[0],p=u[1],m=function(e){var t=a.a.useRef();return Object(i.useEffect)((function(){t.current=e})),t.current}(t);Object(i.useEffect)((function(){JSON.stringify(m)!==JSON.stringify(t)&&p(!1)}),[m,t]);return Object(c.jsxs)(j.a,{role:void 0,className:"list-card",children:[Object(c.jsx)(f.a,{children:Object(c.jsx)(O.a,{edge:"start",tabIndex:-1,checked:d,onChange:function(e){p(!d),l(!d,t)}})}),Object(c.jsx)(h.a,{id:n,primary:t.name}),Object(c.jsx)(b.a,{children:t.is_dir?"":Object(c.jsx)(x.a,{edge:"end",onClick:function(e){confirm("Are you sure to delete files: \n ".concat(t.name," "))&&w.deleteFile([t.name])&&s()},className:"list-icon-button",children:Object(c.jsx)(v.a,{})})})]})}function J(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)([]),l=Object(r.a)(s,2),j=l[0],f=l[1],b=Object(i.useState)([]),h=Object(r.a)(b,2),O=h[0],x=h[1];Object(i.useEffect)((function(){m()}),[n]);var m=function(){f(w.getFileList())},g=function(e,t){var n=[];u.a.each(e,(function(e,t){e.size>1048576?alert("The file size should less than 5 MB"):u.a.indexOf(j.map((function(e){return e.name})),e.name)>-1?confirm("Cover this file ".concat(e.name,"?"))&&n.push(e):n.push(e)})),a(n)},N=function(e,t){var n=t.name,c=Object.assign([],O);e?c.push(n):u.a.indexOf(c,n)>-1&&(c=u.a.without(c,n)),JSON.stringify(O)!==JSON.stringify(c)&&x(c)};return Object(c.jsxs)("div",{className:"update",children:[Object(c.jsxs)(o.a,{onDrop:g,children:[Object(c.jsxs)("div",{className:"description",children:["This is ",Object(c.jsx)("i",{children:"NOT"})," really upload system , file will delete when you close window",Object(c.jsx)("p",{}),"Using button upload to add file or Drag file to page"]}),Object(c.jsxs)("div",{className:"control-bar",children:[Object(c.jsxs)("div",{className:"control-btns",children:[Object(c.jsx)("input",{type:"file",id:"file-upload",onChange:function(e){var t=e.target.files;g(t)},value:""}),Object(c.jsx)("label",{htmlFor:"file-upload",children:Object(c.jsxs)(p.a,{component:"span",variant:"contained",color:"default",className:"button",children:["upload",Object(c.jsx)(F.a,{className:"right-icon"})]})}),Object(c.jsxs)(p.a,{variant:"contained",color:"default",className:"button",onClick:function(e){O.length>0&&confirm("Are you sure to delete files: \n ".concat(O.join("\n")," "))&&w.deleteFile(O),m()},children:["delete",Object(c.jsx)(v.a,{className:"right-icon"})]})]}),Object(c.jsx)("span",{children:"Files:"})]}),Object(c.jsx)("div",{className:"list",children:Object(c.jsx)(d.a,{children:j.map((function(e,t){var n="checkbox-list-label-".concat(e);return e.is_dir?"":Object(c.jsx)(I,{value:e,labelId:n,handleCheck:N,getFileList:m},"".concat(e,"-").concat(t))}))})})]}),Object(c.jsx)(T,{files:n,clearFile:function(e){m(),a([])}})]})}var L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};l.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),L()}},[[70,1,2]]]);
//# sourceMappingURL=main.b8527db3.chunk.js.map